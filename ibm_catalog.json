{
  "products": [
    {
      "name": "deploy-arch-ibm-slz-vsi",
      "label": "Landing zone for applications with virtual servers",
      "product_kind": "solution",
      "tags": [
        "ibm_created",
        "target_terraform",
        "terraform",
        "solution",
        "virtualservers",
        "reference_architecture",
        "platform_engineering"
      ],
      "keywords": [
        "vpc",
        "slz",
        "IaC",
        "terraform",
        "virtualservers",
        "vsi",
        "servers",
        "solution",
        "infrastructure as code"
      ],
      "short_description": "Deploys secure Virtual Server Instances on IBM Cloud VPC with flexible configurations, QuickStart options for simplified setup, and integrated security and logging features",
      "long_description": "Landing zone for applications with virtual servers delivers fast-provisioned, high-performance compute with network isolation and built-in security. [VSIs](https://cloud.ibm.com/docs/vpc?topic=vpc-about-advanced-virtual-servers) can be deployed into new or existing Virtual Private Clouds (VPCs) with flexible configurations and integration to networking, storage, and security services. They support both x86 and s390x [profiles](https://cloud.ibm.com/docs/vpc?group=profiles) to match compute and memory needs. Designed for secure, compliant, and customizable application workloads, VSIs enable consistent, scalable deployments across multiple zones and subnets within an IBM Cloud VPC.",
      "offering_docs_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-overview#overview-vsi",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone-vsi/main/images/vsi-icon.svg",
      "provider_name": "IBM",
      "features": [
        {
          "title": "Configurable Compute, Networking, and Placement",
          "description": "Creates and configures one or more [IBM Cloud Virtual Server Instances (VSIs)](https://cloud.ibm.com/docs/vpc?topic=vpc-about-advanced-virtual-servers) into a fully configurable IBM Cloud VPC with multi-zone [subnets](https://cloud.ibm.com/docs/vpc?topic=vpc-about-subnets-vpc&interface=ui), and placement control. Supports quick start or advanced setups with customizable VSI [profiles](https://cloud.ibm.com/docs/vpc?group=profiles) and attachment to networking and security services."
        },
        {
          "title": "Resilient Traffic and Access Controls",
          "description": "Enables  Network (Layer 4) and Application (Layer 7) [Load Balancers](https://cloud.ibm.com/docs/vpc?topic=vpc-nlb-vs-elb) with health checks, while enforcing least-privilege access via [security groups](https://cloud.ibm.com/docs/vpc?group=security-groups) and managed [SSH keys](https://cloud.ibm.com/docs/vpc?topic=vpc-ssh-keys&interface=ui). Integrates [Context-Based Restrictions (CBR)](https://cloud.ibm.com/docs/vpc?topic=vpc-cbr&interface=ui) to limit service access to approved landing zone VPCs."
        },
        {
          "title": "Secure Storage and Key Management",
          "description": "Attaches high-performance [Block Storage volumes]( https://cloud.ibm.com/docs/vpc?topic=vpc-block_storage_about) with selectable profiles and capacity, with optional [Key Management Services](https://cloud.ibm.com/docs/vpc?topic=vpc-vpc-encryption-about&interface=ui) for encryption using new or existing keys."
        },
        {
          "title": "Secrets Management Integration",
          "description": "Optionally adds [Cloud automation for Secrets Manager](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-secrets-manager-6d6ebc76-7bbd-42f5-8bc7-78f4fabd5944-global) to manage SSH private keys and other secrets."
        },
        {
          "title": "Sets up logging for the Virtual Server Instance",
          "description": "Optionally, you can deploy Cloud automation for Cloud Logs to route, alert, and visualize platform logs that are generated by your Virtual Server Instance. [Learn more](https://cloud.ibm.com/docs/vpc?topic=vpc-logging)"
        },
        {
          "title": "Sets up monitoring operational metrics for the Virtual Server Instance",
          "description": "Optionally, you can deploy Cloud automation for Cloud Monitoring to measure how users and applications interact with your Virtual Server Instance. [Learn more](https://cloud.ibm.com/docs/vpc?topic=vpc-ibm-monitoring)"
        },
        {
          "title": "Sets up activity tracking for the Virtual Server Instance",
          "description": "Optionally, you can deploy Cloud automation for Activity Tracker Event Routing to route and securely store auditing events that are related to your Virtual Server Instance. [Learn more](https://cloud.ibm.com/docs/vpc?topic=vpc-at_events)"
        }
      ],
      "flavors": [
        {
          "label": "QuickStart - Financial Services edition",
          "name": "quickstart",
          "index": 3,
          "install_type": "fullstack",
          "working_directory": "patterns/vsi-quickstart",
          "release_notes_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-secure-infrastructure-vpc-relnotes",
          "configuration": [
            {
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "key": "region",
              "required": true,
              "type": "string"
            },
            {
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              },
              "key": "override_json_string"
            },
            {
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "code_editor"
              },
              "key": "user_data"
            },
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true,
              "type": "string",
              "default_value": "dev",
              "random_string": {
                "length": 4
              },
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "Prefix must begin with a lowercase letter, may contain only lowercase letters, digits, and hyphens '-', must end with a lowercase letter or digit, and must not exceed 16 characters.",
                  "value": "^[a-z]([-a-z0-9]{0,14}[a-z0-9])?$"
                }
              ]
            },
            {
              "key": "resource_tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "ssh_key",
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "The value provided for 'ssh_key' is not valid.",
                  "value": "^ssh-rsa AAAA[0-9A-Za-z+/]+[=]{0,3} ?([^@]+@[^@]+)?"
                }
              ]
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "appid",
              "notes": "Required to create and manage App ID service instance."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "cloud-object-storage",
              "notes": "[Optional] Required if VPC Flow Logs are enabled."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "hs-crypto",
              "notes": "[Optional] Required if Hyper Protect Crypto Service is used for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "iam-identity",
              "notes": "Required to create foundational IBM Cloud account resources, like IAM settings, resource groups."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "kms",
              "notes": "[Optional] Required if Key Protect is used for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "is.vpc",
              "notes": "Required to create Virtual Private Cloud(VPC)."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Ideal for sandbox environments, experimentation, and familiarization with architecture patterns."
              },
              {
                "title": " ",
                "description": "An introductory, non-certified deployment aligned with the Financial Services Cloud VPCs topology. Not suitable for production workloads."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Virtual Server Instance topology- QuickStart (Financial Services edition)",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/reference-architectures/vsi-quickstart.drawio.svg",
                  "type": "image/svg+xml"
                },
                "description": "This variation provisions two Virtual Private Clouds (VPCs)—a <b>Management VPC</b> and a <b>Workload VPC</b>—in a single region to separate operations from workloads. Each VPC is a single-zone, multi-subnet design with <b>Virtual Server Instances (VSIs)</b> placed in every subnet for rapid demonstration and development.<br><br>It configures a <b>transit gateway</b> that , connects the VPCs and <b>Key Protect</b> is integrated to enhance security of sensitive assets. This QuickStart favors speed and simplicity , it uses <b>floating IPs</b> for public access.<br><br>It is ideal for sandbox environments and helps you get started quickly."
              }
            ]
          },
          "terraform_version": "1.10.5",
          "dependency_version_2": true
        },
        {
          "label": "Standard - Financial Services edition",
          "name": "standard",
          "index": 4,
          "install_type": "fullstack",
          "working_directory": "patterns/vsi",
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "IBM Cloud Framework for Financial Services",
                "profile_version": "1.7.0"
              }
            ]
          },
          "release_notes_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-secure-infrastructure-vpc-relnotes",
          "configuration": [
            {
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "key": "region",
              "required": true
            },
            {
              "key": "ssh_public_key",
              "required": true,
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "The value provided for 'ssh_public_key' is not valid.",
                  "value": "^__NULL__$|^ssh-rsa AAAA[0-9A-Za-z+/]+[=]{0,3} ?([^@]+@[^@]+)?"
                }
              ]
            },
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true,
              "type": "string",
              "default_value": "dev",
              "random_string": {
                "length": 4
              },
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "Prefix must begin with a lowercase letter, may contain only lowercase letters, digits, and hyphens '-', must end with a lowercase letter or digit, and must not exceed 16 characters.",
                  "value": "^[a-z]([-a-z0-9]{0,14}[a-z0-9])?$"
                }
              ]
            },
            {
              "key": "existing_ssh_key_name"
            },
            {
              "key": "tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "network_cidr"
            },
            {
              "key": "vpcs"
            },
            {
              "key": "enable_transit_gateway"
            },
            {
              "key": "transit_gateway_global"
            },
            {
              "key": "add_atracker_route"
            },
            {
              "key": "hs_crypto_instance_name"
            },
            {
              "key": "hs_crypto_resource_group"
            },
            {
              "key": "use_random_cos_suffix"
            },
            {
              "key": "vsi_image_name"
            },
            {
              "key": "vsi_instance_profile"
            },
            {
              "key": "vsi_per_subnet"
            },
            {
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "code_editor"
              },
              "key": "user_data"
            },
            {
              "key": "use_legacy_network_interface"
            },
            {
              "key": "allow_ip_spoofing"
            },
            {
              "key": "add_edge_vpc",
              "hidden": true
            },
            {
              "hidden": true,
              "key": "create_f5_network_on_management_vpc"
            },
            {
              "hidden": true,
              "key": "provision_teleport_in_f5"
            },
            {
              "hidden": true,
              "key": "vpn_firewall_type"
            },
            {
              "hidden": true,
              "key": "f5_image_name"
            },
            {
              "hidden": true,
              "key": "f5_instance_profile"
            },
            {
              "hidden": true,
              "key": "hostname"
            },
            {
              "hidden": true,
              "key": "domain"
            },
            {
              "hidden": true,
              "key": "tmos_admin_password",
              "type": "password"
            },
            {
              "hidden": true,
              "key": "license_type"
            },
            {
              "hidden": true,
              "key": "byol_license_basekey"
            },
            {
              "hidden": true,
              "key": "license_host"
            },
            {
              "hidden": true,
              "key": "license_username"
            },
            {
              "hidden": true,
              "key": "license_password"
            },
            {
              "hidden": true,
              "key": "license_pool"
            },
            {
              "hidden": true,
              "key": "license_sku_keyword_1"
            },
            {
              "hidden": true,
              "key": "license_sku_keyword_2"
            },
            {
              "hidden": true,
              "key": "license_unit_of_measure"
            },
            {
              "hidden": true,
              "key": "do_declaration_url"
            },
            {
              "hidden": true,
              "key": "ts_declaration_url"
            },
            {
              "hidden": true,
              "key": "as3_declaration_url"
            },
            {
              "hidden": true,
              "key": "phone_home_url"
            },
            {
              "hidden": true,
              "key": "template_source"
            },
            {
              "hidden": true,
              "key": "template_version"
            },
            {
              "hidden": true,
              "key": "app_id"
            },
            {
              "hidden": true,
              "key": "tgactive_url"
            },
            {
              "hidden": true,
              "key": "tgstandby_url"
            },
            {
              "hidden": true,
              "key": "tgrefresh_url"
            },
            {
              "hidden": true,
              "key": "enable_f5_management_fip"
            },
            {
              "hidden": true,
              "key": "enable_f5_external_fip"
            },
            {
              "hidden": true,
              "key": "teleport_management_zones"
            },
            {
              "hidden": true,
              "key": "use_existing_appid"
            },
            {
              "hidden": true,
              "key": "appid_name"
            },
            {
              "hidden": true,
              "key": "appid_resource_group"
            },
            {
              "hidden": true,
              "key": "teleport_instance_profile"
            },
            {
              "hidden": true,
              "key": "teleport_vsi_image_name"
            },
            {
              "hidden": true,
              "key": "teleport_license"
            },
            {
              "hidden": true,
              "key": "https_cert"
            },
            {
              "hidden": true,
              "key": "https_key"
            },
            {
              "key": "teleport_hostname",
              "hidden": true
            },
            {
              "hidden": true,
              "key": "teleport_domain"
            },
            {
              "hidden": true,
              "key": "teleport_version"
            },
            {
              "hidden": true,
              "key": "message_of_the_day"
            },
            {
              "hidden": true,
              "key": "teleport_admin_email"
            },
            {
              "key": "skip_kms_block_storage_s2s_auth_policy"
            },
            {
              "key": "skip_all_s2s_auth_policies"
            },
            {
              "key": "override",
              "hidden": true
            },
            {
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              },
              "key": "override_json_string"
            },
            {
              "key": "IC_SCHEMATICS_WORKSPACE_ID"
            },
            {
              "key": "existing_vpc_cbr_zone_id"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "appid",
              "notes": "Required to create and manage App ID service instance."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "cloud-object-storage",
              "notes": "[Optional] Required if VPC Flow Logs are enabled."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "hs-crypto",
              "notes": "[Optional] Required if Hyper Protect Crypto Service is used for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "iam-identity",
              "notes": "Required to create foundational IBM Cloud account resources, like IAM settings, resource groups."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "kms",
              "notes": "[Optional] Required if Key Protect is used for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "is.vpc",
              "notes": "Required to create Virtual Private Cloud(VPC)."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Ideal for production workloads requiring compliance with financial services standards."
              },
              {
                "title": " ",
                "description": "Validated configuration aligned with IBM Cloud Framework for Financial Services."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Virtual Server Instance topology - Standard (Financial Services edition)",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/reference-architectures/vsi-vsi.drawio.svg",
                  "type": "image/svg+xml"
                },
                "description": "This variation is aligned to the IBM Cloud for Financial Services reference architecture. It provisions two Virtual Private Clouds (VPCs)—a <b>Management VPC</b> and a <b>Workload VPC</b>—to separate operations from workloads and improve security. Each VPC is a multi-zone, multi-subnet design with <b>Virtual Server Instances (VSIs)</b> in every subnet to host your applications across regions for resiliency.<br><br>It configures <b>transit gateway</b> connects the VPCs and <b>Virtual Private Endpoints (VPEs)</b> provide private access to IBM Cloud services. The architecture integrates <b>Key Protect</b> to protect sensitive data and uses <b>Activity Tracker and Flow Logs</b> to collect and store Internet Protocol (IP) traffic information.<br><br> It securely connects to multiple networks through a <b>site-to-site VPN</b>. Optionally, an <b>edge VPC</b> enables controlled access through the public internet. It configures <b>CBR (Context-based restrictions)</b> to allow traffic only from the landing zone VPCs to approved cloud services.<br><br>Using this architecture, secure and compliant Virtual Server Instances (VSIs) are created on a VPC network."
              }
            ]
          },
          "terraform_version": "1.10.5",
          "dependency_version_2": true
        },
        {
          "label": "Existing VPC",
          "name": "existing-vpc",
          "index": 5,
          "install_type": "fullstack",
          "working_directory": "patterns/vsi-extension",
          "release_notes_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-secure-infrastructure-vpc-relnotes",
          "dependencies": [
            {
              "flavors": [
                "standard"
              ],
              "id": "95fccffc-ae3b-42df-b6d9-80be5914d852-global",
              "name": "deploy-arch-ibm-slz-ocp",
              "version": ">=1.0.0",
              "optional": false
            },
            {
              "flavors": [
                "standard"
              ],
              "id": "9fc0fa64-27af-4fed-9dce-47b3640ba739-global",
              "name": "deploy-arch-ibm-slz-vpc",
              "version": ">=1.0.0"
            }
          ],
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "IBM Cloud Framework for Financial Services",
                "profile_version": "1.7.0"
              }
            ]
          },
          "configuration": [
            {
              "key": "ssh_public_key",
              "required": true,
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "The value provided for 'ssh_public_key' is not valid.",
                  "value": "^__NULL__$|^ssh-rsa AAAA[0-9A-Za-z+/]+[=]{0,3} ?([^@]+@[^@]+)?"
                }
              ]
            },
            {
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "key": "region",
              "required": true
            },
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true,
              "type": "string",
              "default_value": "dev",
              "random_string": {
                "length": 4
              }
            },
            {
              "key": "vpc_id"
            },
            {
              "key": "existing_ssh_key_name"
            },
            {
              "key": "resource_tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "access_tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "image_name"
            },
            {
              "key": "vsi_instance_profile"
            },
            {
              "key": "user_data"
            },
            {
              "key": "boot_volume_encryption_key"
            },
            {
              "key": "vsi_per_subnet"
            },
            {
              "key": "subnet_names"
            },
            {
              "key": "security_group_ids"
            },
            {
              "key": "block_storage_volumes"
            },
            {
              "key": "skip_iam_authorization_policy"
            },
            {
              "key": "enable_floating_ip"
            },
            {
              "key": "placement_group_id"
            },
            {
              "key": "load_balancers"
            },
            {
              "key": "primary_vni_additional_ip_count"
            },
            {
              "key": "use_legacy_network_interface"
            },
            {
              "key": "allow_ip_spoofing"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "is.vpc",
              "notes": "Required to create Virtual Private Cloud(VPC)."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Ideal for extending existing VPC environments"
              },
              {
                "title": " ",
                "description": "Validated configuration that enhances resiliency and security while aligning with financial services compliance requirements."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Virtual Server Instance topology - VSI on existing VPC",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/reference-architectures/vsi-vsi.drawio.svg",
                  "type": "image/svg+xml"
                },
                "description": "This variation is aligned to the IBM Cloud for Financial Services reference architecture. It provisions <b>Virtual Server Instances (VSIs)</b> in every subnet across multiple availability zones, delivering a resilient and secure multizone infrastructure to run your workloads.<br><br> The extension integrates <b>Key Management</b> to strengthen security of sensitive data and uses <b>Activity Tracker with Flow Logs</b> to collect and store Internet Protocol (IP) traffic data. A <b>transit gateway</b> connects the Management and Workload VPCs, while <b>Virtual Private Endpoints (VPEs)</b> provide private access to IBM Cloud services. Secure connectivity to enterprise environments is enabled through a <b>site-to-site VPN</b>, and <b>CBR (Context-based restrictions)</b> rules manage traffic flows to approved services.<br><br> This variation avoids the use of floating IPs for internet access, relying instead on private and controlled connections. It simplifies risk management and demonstrates regulatory compliance for Financial Services scenarios."
              }
            ]
          },
          "terraform_version": "1.10.5",
          "dependency_version_2": true
        }
      ]
    },
    {
      "name": "deploy-arch-ibm-slz-vpc",
      "label": "Cloud foundation for VPC",
      "product_kind": "solution",
      "tags": [
        "ibm_created",
        "target_terraform",
        "terraform",
        "solution",
        "network",
        "network_vpc",
        "platform_engineering"
      ],
      "keywords": [
        "vpc",
        "slz",
        "terraform",
        "IaC",
        "infrastructure as code",
        "solution"
      ],
      "short_description": "Deploy Virtual Private Clouds (VPCs) on IBM Cloud with full flexibility and customisation to support different workloads",
      "long_description": "The Cloud foundation for VPC deployable architecture provides a foundational IBM Cloud [Virtual Private Cloud (VPC)](https://www.ibm.com/cloud/vpc) environment that serves as the base for deploying compute and advanced resources. It establishes the core networking and security framework without including Virtual Server Instances (VSI) or Red Hat OpenShift clusters by default. You can extend this deployable architecture to support a variety of others like [Landing zone for applications with virtual servers](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-vsi-vpc-28e2b12c-858f-4ae8-8717-60db8cec2e6e-global), [Landing zone for containerized applications with Red Hat OpenShift](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-ocp-vpc-1728a4fd-f561-4cf9-82ef-2b1eeb5da1a8-global), [Cloud automation for Red Hat OpenShift AI](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-ocp-ai-ba708aed-bb8a-4ac0-83a7-53a066701db5-global) and many more. You can set up a foundational layer to enable consistent, scalable, and secure deployments across multiple IBM Cloud workloads.",
      "offering_docs_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-overview#overview-vpc",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone-vpc/main/images/vpc_icon.svg",
      "provider_name": "IBM",
      "features": [
        {
          "title": "VPC Networking and Subnet Management",
          "description": "Provisions [subnets](https://cloud.ibm.com/docs/vpc?topic=vpc-about-subnets-vpc) across three availability zones, dividing your VPC into smaller, isolated networks for improved organization, availability, and traffic control. It Includes support for [address prefixes](https://cloud.ibm.com/docs/vpc?topic=vpc-about-subnets-vpc) to define IP ranges, and [routing tables](https://cloud.ibm.com/docs/vpc?topic=vpc-create-vpc-routing-table&interface=ui) with custom routes to manage flow of traffic not only within the VPC but also to the external networks."
        },
        {
          "title": "Network Security Controls",
          "description": "Provides multiple layers of network protection through [Network ACLs](https://cloud.ibm.com/docs/vpc?topic=vpc-using-acls) and [security groups](https://cloud.ibm.com/docs/vpc?topic=vpc-using-security-groups). ACLs define subnet-level rules to allow or deny traffic, while security groups act as virtual firewalls for instances, controlling inbound and outbound connections."
        },
        {
          "title": "Connectivity and Gateway Services",
          "description": "Enables secure and flexible connectivity options with [public gateways](https://cloud.ibm.com/docs/vpc?topic=vpc-about-public-gateways) for internet access, [VPN gateways](https://cloud.ibm.com/docs/vpc?topic=vpc-vpn-overview) for encrypted hybrid cloud connections, and [VPE gateways](https://cloud.ibm.com/docs/vpc?topic=vpc-about-vpe) for private access to IBM Cloud services. Also supports edge networking to isolate and optimize traffic to the public internet, and creates a transit gateway to connect the default VPCs in the deployable architecture."
        },
        {
          "title": "Flow Logs and Secure Storage",
          "description": "Captures and stores network traffic data using [VPC flow logs](https://cloud.ibm.com/docs/vpc?topic=vpc-flow-logs), with logs directed to an Object Storage bucket for analysis and long-term retention. Supports Key Management Service (KMS) encryption for the storage bucket, ensuring enhanced data security and compliance."
        },
        {
          "title": "Traffic Management",
          "description": "Configures routing tables and routes to control the flow of traffic not only within the VPC but also to external networks. [Learn more](https://cloud.ibm.com/docs/vpc?topic=vpc-create-vpc-routing-table&interface=ui)."
        },
        {
          "title": "Sets up logging for the VPC instance",
          "description": "Optionally, you can deploy [Cloud automation for Cloud Logs]((https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-cloud-logs-63d8ae58-fbf3-41ce-b844-0fb5b85882ab-global)) to route, alert, and visualize platform logs that are generated by your VPC instance."
        },
        {
          "title": "Sets up monitoring operational metrics for the VPC instance",
          "description": "Optionally, you can deploy [Cloud automation for Cloud Monitoring](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-cloud-monitoring-73debdbf-894f-4c14-81c7-5ece3a70b67d-global) to measure how users and applications interact with your VPC instance."
        },
        {
          "title": "Sets up activity tracking for the VPC instance",
          "description": "Optionally, you can deploy [Cloud automation for Activity Tracker Event Routing](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-activity-tracker-918453c3-4f97-4583-8c4a-83ef12fc7916-global) to route and securely store auditing events that are related to your VPC instance."
        }
      ],
      "flavors": [
        {
          "label": "Standard - Financial Services edition",
          "name": "standard",
          "index": 2,
          "install_type": "fullstack",
          "working_directory": "patterns/vpc",
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "IBM Cloud Framework for Financial Services",
                "profile_version": "1.7.0"
              }
            ]
          },
          "release_notes_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-secure-infrastructure-vpc-relnotes",
          "configuration": [
            {
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "key": "region",
              "required": true
            },
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true,
              "type": "string",
              "default_value": "dev",
              "random_string": {
                "length": 4
              },
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "Prefix must begin with a lowercase letter, may contain only lowercase letters, digits, and hyphens '-', must end with a lowercase letter or digit, and must not exceed 16 characters.",
                  "value": "^[a-z]([-a-z0-9]{0,14}[a-z0-9])?$"
                }
              ]
            },
            {
              "key": "tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "network_cidr"
            },
            {
              "key": "vpcs"
            },
            {
              "key": "enable_transit_gateway"
            },
            {
              "key": "transit_gateway_global"
            },
            {
              "key": "add_atracker_route"
            },
            {
              "key": "hs_crypto_instance_name"
            },
            {
              "key": "hs_crypto_resource_group"
            },
            {
              "key": "use_random_cos_suffix"
            },
            {
              "key": "add_edge_vpc",
              "hidden": true
            },
            {
              "key": "create_f5_network_on_management_vpc",
              "hidden": true
            },
            {
              "key": "provision_teleport_in_f5",
              "hidden": true
            },
            {
              "key": "vpn_firewall_type",
              "hidden": true
            },
            {
              "key": "ssh_public_key",
              "hidden": true
            },
            {
              "key": "f5_image_name",
              "hidden": true
            },
            {
              "key": "f5_instance_profile",
              "hidden": true
            },
            {
              "key": "hostname",
              "hidden": true
            },
            {
              "key": "domain",
              "hidden": true
            },
            {
              "key": "tmos_admin_password",
              "hidden": true
            },
            {
              "key": "license_type",
              "hidden": true
            },
            {
              "key": "byol_license_basekey",
              "hidden": true
            },
            {
              "key": "license_host",
              "hidden": true
            },
            {
              "key": "license_username",
              "hidden": true
            },
            {
              "key": "license_password",
              "hidden": true
            },
            {
              "key": "license_pool",
              "hidden": true
            },
            {
              "key": "license_sku_keyword_1",
              "hidden": true
            },
            {
              "key": "license_sku_keyword_2",
              "hidden": true
            },
            {
              "key": "license_unit_of_measure",
              "hidden": true
            },
            {
              "key": "do_declaration_url",
              "hidden": true
            },
            {
              "key": "as3_declaration_url",
              "hidden": true
            },
            {
              "key": "ts_declaration_url",
              "hidden": true
            },
            {
              "key": "phone_home_url",
              "hidden": true
            },
            {
              "key": "template_source",
              "hidden": true
            },
            {
              "key": "template_version",
              "hidden": true
            },
            {
              "key": "app_id",
              "hidden": true
            },
            {
              "key": "tgactive_url",
              "hidden": true
            },
            {
              "key": "tgstandby_url",
              "hidden": true
            },
            {
              "key": "tgrefresh_url",
              "hidden": true
            },
            {
              "key": "enable_f5_management_fip",
              "hidden": true
            },
            {
              "key": "enable_f5_external_fip",
              "hidden": true
            },
            {
              "key": "teleport_management_zones",
              "hidden": true
            },
            {
              "key": "use_existing_appid",
              "hidden": true
            },
            {
              "key": "appid_name",
              "hidden": true
            },
            {
              "key": "appid_resource_group",
              "hidden": true
            },
            {
              "key": "teleport_instance_profile",
              "hidden": true
            },
            {
              "key": "teleport_vsi_image_name",
              "hidden": true
            },
            {
              "key": "teleport_license",
              "hidden": true
            },
            {
              "key": "https_cert",
              "hidden": true
            },
            {
              "key": "https_key",
              "hidden": true
            },
            {
              "key": "teleport_hostname",
              "hidden": true
            },
            {
              "key": "teleport_domain",
              "hidden": true
            },
            {
              "key": "teleport_version",
              "hidden": true
            },
            {
              "key": "message_of_the_day",
              "hidden": true
            },
            {
              "key": "teleport_admin_email",
              "hidden": true
            },
            {
              "key": "skip_all_s2s_auth_policies"
            },
            {
              "key": "skip_kms_block_storage_s2s_auth_policy"
            },
            {
              "key": "override",
              "hidden": true
            },
            {
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              },
              "key": "override_json_string"
            },
            {
              "key": "IC_SCHEMATICS_WORKSPACE_ID"
            },
            {
              "key": "existing_vpc_cbr_zone_id"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "appid"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "cloud-object-storage",
              "notes": "[Optional] Required if VPC Flow Logs are enabled."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "hs-crypto",
              "notes": "[Optional] Required if Hyper Protect Crypto Service is used for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "iam-identity",
              "notes": "Required to create foundational IBM Cloud account resources, like IAM settings, resource groups."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "kms",
              "notes": "[Optional] Required if Key Protect is used for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "is.vpc",
              "notes": "Required to create Virtual Private Cloud(VPC)"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Ideal for production workloads requiring compliance with financial services standards."
              },
              {
                "title": " ",
                "description": "Validated configuration aligned with IBM Cloud Framework for Financial Services."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "VPC landing zone - Standard (Financial Services edition)",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/reference-architectures/vpc.drawio.svg",
                  "type": "image/svg+xml"
                },
                "description": "This deployable architecture deploys a simple Virtual Private Cloud (VPC) infrastructure without any compute resources. You can use this architecture as a base on which to deploy compute resources. This variation uses two Virtual Private Clouds (VPC) - a Management VPC and a Workload VPC - to manage the environment and the deployed workload. Each VPC is a multi-zoned, multi-subnet implementation that keeps your workloads secure. A transit gateway connects the VPCs to each other and Virtual Private Endpoints are used connect to IBM Cloud services.<br><br> This variation integrates <b>key management services</b> to enhance security. It also leverages <b>Activity Tracker and Flow Logs</b> to collect and store Internet Protocol (IP) traffic information.<br><br> It securely connects to multiple networks with a <b>site-to-site</b> virtual private network and uses an <b>edge VPC</b> for secure access through the public internet . It configures <b>CBR (Context-based restrictions)</b> rules to allow traffic to flow only from the landing zone VPCs to specific cloud services. <br><br>This deployable architecture simplifies risk management and demonstrates regulatory compliance with Financial Services."
              }
            ]
          },
          "terraform_version": "1.10.5",
          "dependency_version_2": true
        }
      ]
    },
    {
      "name": "deploy-arch-ibm-slz-ocp",
      "label": "Landing zone for containerized applications with OpenShift",
      "product_kind": "solution",
      "tags": [
        "ibm_created",
        "target_terraform",
        "terraform",
        "solution",
        "compute",
        "reference_architecture",
        "platform_engineering"
      ],
      "keywords": [
        "vpc",
        "slz",
        "IaC",
        "infrastructure as code",
        "terraform",
        "ocp",
        "cluster",
        "red_hat_openshift",
        "redhat",
        "ROKS"
      ],
      "short_description": "Deploys an OpenShift topology on VPC with flexible configurations, QuickStart options for simplified setup, and advanced features for security and compliance",
      "long_description": "This solution enables the provisioning of Red Hat OpenShift clusters on IBM Cloud VPC using a range of configurations tailored to different needs — from sandbox experimentation to validated financial services deployments. Each variation offers a distinct balance of customization, integration with security and observability features, and readiness for production or evaluation use. Whether you're exploring OpenShift capabilities or deploying in regulated environments, these configurations help accelerate your cloud-native journey.",
      "offering_docs_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-overview#overview-ocp",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-base-ocp-vpc/main/images/ocp_icon.svg",
      "provider_name": "IBM",
      "features": [
        {
          "title": "Configurable OpenShift deployment options",
          "description": "Provides multiple configuration paths for provisioning [Red Hat OpenShift clusters](https://cloud.ibm.com/docs/openshift) on IBM Cloud VPC. Supports use cases ranging from quick experimentation to production-grade deployments in regulated environments. Capabilities vary by variation, with some offering simplified onboarding and others enabling advanced integrations and compliance alignment."
        },
        {
          "title": "OpenShift Cluster with Scalable Access and Worker Management",
          "description": "Deploys a Red Hat OpenShift cluster with Kubernetes-native orchestration and automated lifecycle management. All variations support [public and private access endpoints](https://cloud.ibm.com/docs/openshift?topic=openshift-access_cluster) and [worker pool](https://cloud.ibm.com/docs/openshift?topic=openshift-add-workers-vpc) configurations, enabling secure connectivity and scalable workload deployment."
        },
        {
          "title": "Infrastructure Setup",
          "description": "Automatically provisions multi-zone VPCs, [subnets](https://cloud.ibm.com/docs/openshift?topic=openshift-vpc-subnets&interface=ui#vpc_basics_subnets), and networking components. QuickStart variations abstract this setup to minimize required IBM Cloud knowledge, while other configurations expose full control for advanced users."
        },
        {
          "title": "IBM Cloud Services Integrations",
          "description": "Depending on the variation, clusters may include integrations with IBM Cloud services such as [Key Protect](https://cloud.ibm.com/docs/openshift?topic=openshift-encryption-setup&interface=ui), [Hyper Protect Crypto Services](https://cloud.ibm.com/catalog/services/hyper-protect-crypto-services), [Secrets Manager](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-secrets-manager-6d6ebc76-7bbd-42f5-8bc7-78f4fabd5944-global), [Object Storage](https://cloud.ibm.com/docs/openshift?topic=openshift-storage-cos-understand), and Observability services."
        },
        {
          "title": "Security and Compliance Alignment",
          "description": "Advanced configurations include features such as [audit logging](https://cloud.ibm.com/docs/containers?topic=containers-health-audit#audit-api-server) and encryption key management, and may align with [IBM Cloud Framework for Financial Services](https://cloud.ibm.com/docs/framework-financial-services?topic=framework-financial-services-about) for production use in regulated environments."
        },
        {
          "title": "Sets up logging for the OpenShift cluster",
          "description": "Optionally, you can deploy [Cloud automation for Cloud Logs](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-cloud-logs-63d8ae58-fbf3-41ce-b844-0fb5b85882ab-global) to route, alert, and visualize platform logs that are generated by your OpenShift cluster."
        },
        {
          "title": "Sets up monitoring operational metrics for the OpenShift cluster",
          "description": "Optionally, you can deploy [Cloud automation for Cloud Monitoring](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-cloud-monitoring-73debdbf-894f-4c14-81c7-5ece3a70b67d-global) to measure how users and applications interact with your OpenShift cluster."
        },
        {
          "title": "Sets up activity tracking for the OpenShift cluster",
          "description": "Optionally, you can deploy [Cloud automation for Activity Tracker Event Routing](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-activity-tracker-918453c3-4f97-4583-8c4a-83ef12fc7916-global) to route and securely store auditing events that are related to your OpenShift cluster."
        }
      ],
      "flavors": [
        {
          "label": "QuickStart - Financial Services edition",
          "name": "quickstart",
          "index": 3,
          "install_type": "fullstack",
          "working_directory": "patterns/roks-quickstart",
          "release_notes_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-secure-infrastructure-vpc-relnotes",
          "configuration": [
            {
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "key": "region",
              "required": true,
              "type": "string"
            },
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true,
              "type": "string",
              "default_value": "dev",
              "random_string": {
                "length": 4
              },
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "Prefix must begin with a lowercase letter, may contain only lowercase letters, digits, and hyphens '-', must end with a lowercase letter or digit, and must not exceed 13 characters.",
                  "value": "^[a-z]([-a-z0-9]{0,11}[a-z0-9])?$"
                }
              ]
            },
            {
              "key": "resource_tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "kube_version",
              "type": "string",
              "required": true,
              "default_value": "4.18_openshift",
              "options": [
                {
                  "displayname": "4.14_openshift",
                  "value": "4.14_openshift"
                },
                {
                  "displayname": "4.15_openshift",
                  "value": "4.15_openshift"
                },
                {
                  "displayname": "4.16_openshift",
                  "value": "4.16_openshift"
                },
                {
                  "displayname": "4.17_openshift",
                  "value": "4.17_openshift"
                },
                {
                  "displayname": "4.18_openshift",
                  "value": "4.18_openshift"
                }
              ],
              "custom_config": {}
            },
            {
              "key": "flavor",
              "required": true,
              "options": [
                {
                  "displayname": "bx2.16x64",
                  "value": "bx2.16x64"
                },
                {
                  "displayname": "bx2.32x128",
                  "value": "bx2.32x128"
                },
                {
                  "displayname": "bx2.48x192",
                  "value": "bx2.48x192"
                },
                {
                  "displayname": "bx2.8x32",
                  "value": "bx2.8x32"
                },
                {
                  "displayname": "bx3d.128x640",
                  "value": "bx3d.128x640"
                },
                {
                  "displayname": "bx3d.16x80",
                  "value": "bx3d.16x80"
                },
                {
                  "displayname": "bx3d.24x120",
                  "value": "bx3d.24x120"
                },
                {
                  "displayname": "bx3d.32x160",
                  "value": "bx3d.32x160"
                },
                {
                  "displayname": "bx3d.48x240",
                  "value": "bx3d.48x240"
                },
                {
                  "displayname": "bx3d.64x320",
                  "value": "bx3d.64x320"
                },
                {
                  "displayname": "bx3d.8x40",
                  "value": "bx3d.8x40"
                },
                {
                  "displayname": "bx3d.96x480",
                  "value": "bx3d.96x480"
                },
                {
                  "displayname": "cx2.16x32",
                  "value": "cx2.16x32"
                },
                {
                  "displayname": "cx2.32x64",
                  "value": "cx2.32x64"
                },
                {
                  "displayname": "cx2.48x96",
                  "value": "cx2.48x96"
                },
                {
                  "displayname": "cx3d.128x320",
                  "value": "cx3d.128x320"
                },
                {
                  "displayname": "cx3d.16x40",
                  "value": "cx3d.16x40"
                },
                {
                  "displayname": "cx3d.24x60",
                  "value": "cx3d.24x60"
                },
                {
                  "displayname": "cx3d.32x80",
                  "value": "cx3d.32x80"
                },
                {
                  "displayname": "cx3d.48x120",
                  "value": "cx3d.48x120"
                },
                {
                  "displayname": "cx3d.64x160",
                  "value": "cx3d.64x160"
                },
                {
                  "displayname": "cx3d.96x240",
                  "value": "cx3d.96x240"
                },
                {
                  "displayname": "mx2.128x1024",
                  "value": "mx2.128x1024"
                },
                {
                  "displayname": "mx2.16x128",
                  "value": "mx2.16x128"
                },
                {
                  "displayname": "mx2.32x256",
                  "value": "mx2.32x256"
                },
                {
                  "displayname": "mx2.48x384",
                  "value": "mx2.48x384"
                },
                {
                  "displayname": "mx2.64x512",
                  "value": "mx2.64x512"
                },
                {
                  "displayname": "mx2.8x64",
                  "value": "mx2.8x64"
                },
                {
                  "displayname": "mx3d.128x1280",
                  "value": "mx3d.128x1280"
                },
                {
                  "displayname": "mx3d.24x240",
                  "value": "mx3d.24x240"
                },
                {
                  "displayname": "mx3d.32x320",
                  "value": "mx3d.32x320"
                },
                {
                  "displayname": "mx3d.48x480",
                  "value": "mx3d.48x480"
                },
                {
                  "displayname": "mx3d.64x640",
                  "value": "mx3d.64x640"
                },
                {
                  "displayname": "mx3d.96x960",
                  "value": "mx3d.96x960"
                },
                {
                  "displayname": "bx2d.metal.96x384 (Only available in Toronto (ca-tor))",
                  "value": "bx2d.metal.96x384"
                },
                {
                  "displayname": "cx2d.metal.96x192 (Only available in Toronto (ca-tor)) ",
                  "value": "cx2d.metal.96x192"
                },
                {
                  "displayname": "mx2d.metal.96x768 (Only available in Toronto (ca-tor))) ",
                  "value": "mx2d.metal.96x768"
                },
                {
                  "displayname": "mx2.16x128.2000gb (Not available in Sao Paulo (br-sao), Montreal (ca-mon), Madrid (eu-es), Osaka (jp-osa))",
                  "value": "mx2.16x128.2000gb"
                },
                {
                  "displayname": "ox2.128x1024 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.128x1024"
                },
                {
                  "displayname": "ox2.16x128 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.16x128"
                },
                {
                  "displayname": "ox2.32x256 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.32x256"
                },
                {
                  "displayname": "ox2.64x512 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.64x512"
                },
                {
                  "displayname": "ox2.8x64 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.8x64"
                },
                {
                  "displayname": "ox2.96x768 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.96x768"
                }
              ]
            },
            {
              "key": "entitlement"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "cloud-object-storage",
              "notes": "Required to manage Object Storage for the cluster internal registry."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator",
                "crn:v1:bluemix:public:iam-identity::::serviceRole:UserApiKeyCreator"
              ],
              "service_name": "iam-identity",
              "notes": "Required to create the containers-kubernetes-key for the OpenShift cluster."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "kms",
              "notes": "[Optional] Required if Key Protect is used for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "containers-kubernetes",
              "notes": "Required to create and manage the OpenShift cluster."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "is.vpc",
              "notes": "Required to create VPC."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Ideal for sandbox environments, experimentation, and familiarization with architecture patterns."
              },
              {
                "title": " ",
                "description": "An introductory, non-certified deployment aligned with the Financial Services Cloud VPCs topology. Not suitable for production workloads or upgrade paths."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Red Hat OpenShift cluster topology - QuickStart (Financial Services edition)",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/reference-architectures/roks-quickstart.drawio.svg",
                  "type": "image/svg+xml"
                },
                "description": "This deployable architecture creates one Red Hat OpenShift Container Platform in workload VPC with two worker nodes and public endpoint enabled.<br> <br> It configures <b>Management VPC</b> with one subnet and <b>Workload VPC</b> with two subnets in two zones with allow-all ACL and security group. It creates <b>Transit Gateway</b> connecting to VPCs. It requires a <b> Object Storage instance</b> to provision the cluster and integrates with <b>Key Protect</b> for managing the cluster encryption keys. <br> <br> It is ideal for sandbox environments and helps you get started quickly."
              }
            ]
          },
          "terraform_version": "1.10.5",
          "dependency_version_2": true
        },
        {
          "label": "Standard - Financial Services edition",
          "name": "standard",
          "index": 4,
          "install_type": "fullstack",
          "working_directory": "patterns/roks",
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "IBM Cloud Framework for Financial Services",
                "profile_version": "1.7.0"
              }
            ]
          },
          "release_notes_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-secure-infrastructure-vpc-relnotes",
          "configuration": [
            {
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "key": "region",
              "required": true
            },
            {
              "key": "kube_version",
              "type": "string",
              "required": true,
              "default_value": "4.18_openshift",
              "options": [
                {
                  "displayname": "4.14_openshift",
                  "value": "4.14_openshift"
                },
                {
                  "displayname": "4.15_openshift",
                  "value": "4.15_openshift"
                },
                {
                  "displayname": "4.16_openshift",
                  "value": "4.16_openshift"
                },
                {
                  "displayname": "4.17_openshift",
                  "value": "4.17_openshift"
                },
                {
                  "displayname": "4.18_openshift",
                  "value": "4.18_openshift"
                }
              ],
              "custom_config": {}
            },
            {
              "key": "flavor",
              "required": true,
              "options": [
                {
                  "displayname": "bx2.16x64",
                  "value": "bx2.16x64"
                },
                {
                  "displayname": "bx2.32x128",
                  "value": "bx2.32x128"
                },
                {
                  "displayname": "bx2.48x192",
                  "value": "bx2.48x192"
                },
                {
                  "displayname": "bx2.8x32",
                  "value": "bx2.8x32"
                },
                {
                  "displayname": "bx3d.128x640",
                  "value": "bx3d.128x640"
                },
                {
                  "displayname": "bx3d.16x80",
                  "value": "bx3d.16x80"
                },
                {
                  "displayname": "bx3d.24x120",
                  "value": "bx3d.24x120"
                },
                {
                  "displayname": "bx3d.32x160",
                  "value": "bx3d.32x160"
                },
                {
                  "displayname": "bx3d.48x240",
                  "value": "bx3d.48x240"
                },
                {
                  "displayname": "bx3d.64x320",
                  "value": "bx3d.64x320"
                },
                {
                  "displayname": "bx3d.8x40",
                  "value": "bx3d.8x40"
                },
                {
                  "displayname": "bx3d.96x480",
                  "value": "bx3d.96x480"
                },
                {
                  "displayname": "cx2.16x32",
                  "value": "cx2.16x32"
                },
                {
                  "displayname": "cx2.32x64",
                  "value": "cx2.32x64"
                },
                {
                  "displayname": "cx2.48x96",
                  "value": "cx2.48x96"
                },
                {
                  "displayname": "cx3d.128x320",
                  "value": "cx3d.128x320"
                },
                {
                  "displayname": "cx3d.16x40",
                  "value": "cx3d.16x40"
                },
                {
                  "displayname": "cx3d.24x60",
                  "value": "cx3d.24x60"
                },
                {
                  "displayname": "cx3d.32x80",
                  "value": "cx3d.32x80"
                },
                {
                  "displayname": "cx3d.48x120",
                  "value": "cx3d.48x120"
                },
                {
                  "displayname": "cx3d.64x160",
                  "value": "cx3d.64x160"
                },
                {
                  "displayname": "cx3d.96x240",
                  "value": "cx3d.96x240"
                },
                {
                  "displayname": "mx2.128x1024",
                  "value": "mx2.128x1024"
                },
                {
                  "displayname": "mx2.16x128",
                  "value": "mx2.16x128"
                },
                {
                  "displayname": "mx2.32x256",
                  "value": "mx2.32x256"
                },
                {
                  "displayname": "mx2.48x384",
                  "value": "mx2.48x384"
                },
                {
                  "displayname": "mx2.64x512",
                  "value": "mx2.64x512"
                },
                {
                  "displayname": "mx2.8x64",
                  "value": "mx2.8x64"
                },
                {
                  "displayname": "mx3d.128x1280",
                  "value": "mx3d.128x1280"
                },
                {
                  "displayname": "mx3d.24x240",
                  "value": "mx3d.24x240"
                },
                {
                  "displayname": "mx3d.32x320",
                  "value": "mx3d.32x320"
                },
                {
                  "displayname": "mx3d.48x480",
                  "value": "mx3d.48x480"
                },
                {
                  "displayname": "mx3d.64x640",
                  "value": "mx3d.64x640"
                },
                {
                  "displayname": "mx3d.96x960",
                  "value": "mx3d.96x960"
                },
                {
                  "displayname": "bx2d.metal.96x384 (Only available in Toronto (ca-tor))",
                  "value": "bx2d.metal.96x384"
                },
                {
                  "displayname": "cx2d.metal.96x192 (Only available in Toronto (ca-tor)) ",
                  "value": "cx2d.metal.96x192"
                },
                {
                  "displayname": "mx2d.metal.96x768 (Only available in Toronto (ca-tor))) ",
                  "value": "mx2d.metal.96x768"
                },
                {
                  "displayname": "mx2.16x128.2000gb (Not available in Sao Paulo (br-sao), Montreal (ca-mon), Madrid (eu-es), Osaka (jp-osa))",
                  "value": "mx2.16x128.2000gb"
                },
                {
                  "displayname": "ox2.128x1024 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.128x1024"
                },
                {
                  "displayname": "ox2.16x128 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.16x128"
                },
                {
                  "displayname": "ox2.32x256 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.32x256"
                },
                {
                  "displayname": "ox2.64x512 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.64x512"
                },
                {
                  "displayname": "ox2.8x64 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.8x64"
                },
                {
                  "displayname": "ox2.96x768 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.96x768"
                }
              ]
            },
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true,
              "type": "string",
              "default_value": "dev",
              "random_string": {
                "length": 4
              },
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "Prefix must begin with a lowercase letter, may contain only lowercase letters, digits, and hyphens '-', must end with a lowercase letter or digit, and must not exceed 13 characters.",
                  "value": "^[a-z]([-a-z0-9]{0,11}[a-z0-9])?$"
                }
              ]
            },
            {
              "key": "tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "network_cidr"
            },
            {
              "key": "vpcs"
            },
            {
              "key": "ignore_vpcs_for_cluster_deployment"
            },
            {
              "key": "enable_transit_gateway"
            },
            {
              "key": "transit_gateway_global"
            },
            {
              "key": "add_atracker_route"
            },
            {
              "key": "hs_crypto_instance_name"
            },
            {
              "key": "hs_crypto_resource_group"
            },
            {
              "key": "existing_kms_instance_name"
            },
            {
              "key": "existing_kms_resource_group"
            },
            {
              "key": "existing_kms_endpoint_type"
            },
            {
              "key": "use_random_cos_suffix"
            },
            {
              "key": "existing_cos_instance_name"
            },
            {
              "key": "existing_cos_resource_group"
            },
            {
              "key": "existing_cos_endpoint_type"
            },
            {
              "key": "use_existing_cos_for_vpc_flowlogs"
            },
            {
              "key": "use_existing_cos_for_atracker"
            },
            {
              "key": "cluster_zones"
            },
            {
              "key": "workers_per_zone"
            },
            {
              "key": "wait_till"
            },
            {
              "key": "kms_wait_for_apply"
            },
            {
              "key": "entitlement"
            },
            {
              "key": "secondary_storage"
            },
            {
              "key": "cluster_addons"
            },
            {
              "key": "manage_all_cluster_addons"
            },
            {
              "key": "disable_outbound_traffic_protection"
            },
            {
              "key": "cluster_force_delete_storage"
            },
            {
              "key": "operating_system"
            },
            {
              "key": "verify_cluster_network_readiness"
            },
            {
              "key": "use_ibm_cloud_private_api_endpoints"
            },
            {
              "key": "add_edge_vpc",
              "hidden": true
            },
            {
              "hidden": true,
              "key": "create_f5_network_on_management_vpc"
            },
            {
              "hidden": true,
              "key": "provision_teleport_in_f5"
            },
            {
              "hidden": true,
              "key": "vpn_firewall_type"
            },
            {
              "hidden": true,
              "key": "ssh_public_key"
            },
            {
              "hidden": true,
              "key": "existing_ssh_key_name"
            },
            {
              "hidden": true,
              "key": "f5_image_name"
            },
            {
              "hidden": true,
              "key": "f5_instance_profile"
            },
            {
              "hidden": true,
              "key": "hostname"
            },
            {
              "hidden": true,
              "key": "domain"
            },
            {
              "hidden": true,
              "key": "tmos_admin_password",
              "type": "password"
            },
            {
              "hidden": true,
              "key": "license_type"
            },
            {
              "hidden": true,
              "key": "byol_license_basekey"
            },
            {
              "hidden": true,
              "key": "license_host"
            },
            {
              "hidden": true,
              "key": "license_username"
            },
            {
              "hidden": true,
              "key": "license_password"
            },
            {
              "hidden": true,
              "key": "license_pool"
            },
            {
              "hidden": true,
              "key": "license_sku_keyword_1"
            },
            {
              "hidden": true,
              "key": "license_sku_keyword_2"
            },
            {
              "hidden": true,
              "key": "license_unit_of_measure"
            },
            {
              "hidden": true,
              "key": "do_declaration_url"
            },
            {
              "hidden": true,
              "key": "as3_declaration_url"
            },
            {
              "hidden": true,
              "key": "ts_declaration_url"
            },
            {
              "key": "phone_home_url",
              "hidden": true
            },
            {
              "hidden": true,
              "key": "template_source"
            },
            {
              "key": "template_version",
              "hidden": true
            },
            {
              "hidden": true,
              "key": "app_id"
            },
            {
              "hidden": true,
              "key": "tgactive_url"
            },
            {
              "hidden": true,
              "key": "tgstandby_url"
            },
            {
              "hidden": true,
              "key": "tgrefresh_url"
            },
            {
              "hidden": true,
              "key": "enable_f5_management_fip"
            },
            {
              "hidden": true,
              "key": "enable_f5_external_fip"
            },
            {
              "hidden": true,
              "key": "teleport_management_zones"
            },
            {
              "hidden": true,
              "key": "use_existing_appid"
            },
            {
              "hidden": true,
              "key": "appid_name"
            },
            {
              "hidden": true,
              "key": "appid_resource_group"
            },
            {
              "hidden": true,
              "key": "teleport_instance_profile"
            },
            {
              "hidden": true,
              "key": "teleport_vsi_image_name"
            },
            {
              "hidden": true,
              "key": "teleport_license"
            },
            {
              "hidden": true,
              "key": "https_cert"
            },
            {
              "hidden": true,
              "key": "https_key"
            },
            {
              "hidden": true,
              "key": "teleport_hostname"
            },
            {
              "hidden": true,
              "key": "teleport_domain"
            },
            {
              "hidden": true,
              "key": "teleport_version"
            },
            {
              "hidden": true,
              "key": "message_of_the_day"
            },
            {
              "hidden": true,
              "key": "teleport_admin_email"
            },
            {
              "key": "skip_kms_block_storage_s2s_auth_policy"
            },
            {
              "key": "skip_all_s2s_auth_policies"
            },
            {
              "key": "override",
              "hidden": true
            },
            {
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              },
              "key": "override_json_string"
            },
            {
              "key": "IC_SCHEMATICS_WORKSPACE_ID"
            },
            {
              "key": "existing_vpc_cbr_zone_id"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "appid",
              "notes": "Required to create and manage App ID service instance."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "cloud-object-storage",
              "notes": "Required to manage Object Storage for the cluster internal registry."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "hs-crypto",
              "notes": "[Optional] Required if Hyper Protect Crypto Service is used for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator",
                "crn:v1:bluemix:public:iam-identity::::serviceRole:UserApiKeyCreator"
              ],
              "service_name": "iam-identity",
              "notes": "Required to create foundational IBM Cloud account resources, like IAM settings, resource groups."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "kms",
              "notes": "[Optional] Required if Key Protect is used for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "containers-kubernetes",
              "notes": "Required to create and manage the Openshift cluster."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "is.vpc",
              "notes": "Required to create VPC."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Ideal for production workloads requiring compliance with financial services standards."
              },
              {
                "title": " ",
                "description": "Validated configuration aligned with IBM Cloud Framework for Financial Services."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Red Hat OpenShift cluster topology - Standard (Financial Services edition)",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/reference-architectures/roks.drawio.svg",
                  "type": "image/svg+xml"
                },
                "description": "This deployable architecture deploys the <b>Red Hat OpenShift Container Platform on VPC</b> based on the IBM Cloud for Financial Services reference architecture.<br> <br> This architecture creates two separate <b>VPCs</b> for management and workloads, respectively. It configures two <b>OpenShift clusters</b> in each VPC with a single worker pool distributed across all three zones, with two worker nodes per zone. It uses an <b>edge VPC</b> for secure access through the public internet and creates <b>Transit Gateway</b> connecting to the VPCs.  <br> <br> It integrates with <b>key management</b> services to enhance security and reduces failure events by using multizone regions. It securely connects to multiple networks using a <b>site-to-site virtual private network</b> and configures <b>CBR (Context-based Restrictions)</b> rules to restrict traffic flow only between landing zone VPCs and specific IBM Cloud services. <br> <br> Using this architecture, secure and compliant Red Hat OpenShift Container Platform is created on a VPC network."
              }
            ]
          },
          "terraform_version": "1.10.5",
          "dependency_version_2": true
        }
      ]
    }
  ]
}
